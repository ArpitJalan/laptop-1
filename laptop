#!/usr/bin/env bash

git clone git://github.com/javierjulio/dotfiles.git ~/Projects/dotfiles
cd ~/Projects/dotfiles
rake install
reload

# When using HTTPS and not SSH for git repositories to avoid being prompted 
# for a login on every push we need to use OSX KeyChain credential caching 
# https://github.com/blog/1104-credential-caching-for-wrist-friendly-git-usage
echo "Installing git credential osxkeychain ..."
  cd /usr/local/bin
  curl -O http://github-media-downloads.s3.amazonaws.com/osx/git-credential-osxkeychain
  git config --global credential.helper osxkeychain
  chmod 755 git-credential-osxkeychain

echo "Installing Homebrew, a good OS X package manager ..."
  /usr/bin/ruby -e "$(/usr/bin/curl -fsSL https://raw.github.com/mxcl/homebrew/master/Library/Contributions/install_homebrew.rb)"
  brew update

echo "Put Homebrew location earlier in PATH ..."
  echo "
# recommended by brew doctor
export PATH='/usr/local/bin:$PATH'" >> ~/.bash_profile
  source ~/.bash_profile

echo "Installing ImageMagick, good for cropping and re-sizing images ..."
  brew install imagemagick

./projects

./ruby

./node
